# 快速开始指南

## 环境已配置完成

所有环境配置已完成，可以立即开始训练！

## 方法1: 使用自动训练脚本（推荐）

```bash
cd /home/green/energy_dl/test/bug-localization-by-dnn-and-rvsm
./scripts/run_training.sh
```

这个脚本会：
- 自动激活conda环境
- 运行训练程序
- 保存训练日志到 `output/` 目录
- 显示训练时间

## 方法2: 手动运行

```bash
# 1. 激活环境
conda activate dnn_rvsm

# 2. 进入源代码目录
cd /home/green/energy_dl/test/bug-localization-by-dnn-and-rvsm/src

# 3. 运行训练
python main.py
```

## 预期输出

训练完成后，你将看到两组结果：

### DNN模型结果（10折交叉验证）
```
{1: 0.456, 5: 0.642, 10: 0.718, 20: 0.790, ...}
```

### rVSM基线模型结果
```
{1: 0.289, 5: 0.498, 10: 0.589, 20: 0.672, ...}
```

数字含义：
- Key (1, 5, 10, 20): Top-K准确率的K值
- Value: 对应的准确率（0-1之间）

例如：`20: 0.790` 表示 Top-20 准确率为 79.0%

## 训练时间

**预计训练时间**: 10-20分钟

- DNN模型（10折交叉验证）: 10-15分钟
- rVSM模型: < 1分钟

## 验证环境

如果遇到问题，可以先运行环境验证脚本：

```bash
./scripts/verify_environment.sh
```

这会检查：
- Conda环境状态
- Python包安装情况
- 数据集完整性
- 硬件资源

## 文件结构

```
bug-localization-by-dnn-and-rvsm/
├── data/                           # 数据集目录
│   ├── Eclipse_Platform_UI.txt    # Bug报告数据（9.3MB）
│   └── features.csv                # 预提取特征（37MB）
├── src/                            # 源代码目录
│   ├── main.py                     # 主程序入口
│   ├── dnn_model.py                # DNN模型实现
│   ├── rvsm_model.py               # rVSM模型实现
│   ├── util.py                     # 工具函数
│   └── feature_extraction.py      # 特征提取（可选）
├── scripts/                        # 脚本目录（新建）
│   ├── run_training.sh             # 一键训练脚本
│   └── verify_environment.sh       # 环境验证脚本
├── docs/                           # 文档目录（新建）
│   ├── 环境配置与复现报告.md      # 详细配置报告
│   └── 训练时长优化建议.md        # 优化建议
└── output/                         # 输出目录（自动创建）
    └── training_log_*.txt          # 训练日志
```

## 常见问题

### Q1: 训练过程中出现警告？
A: 可能会出现NLTK stopwords相关警告，这是正常的，不影响训练，因为使用的是预提取的特征数据。

### Q2: 如何保存训练结果？
A: 使用训练脚本会自动保存日志，或手动重定向输出：
```bash
python main.py > results.txt 2>&1
```

### Q3: 训练太慢怎么办？
A: 参考 `docs/训练时长优化建议.md` 中的优化方案。推荐使用Adam优化器+5折交叉验证。

### Q4: 如何重新提取特征？
A: 如果需要重新提取特征（不推荐，当前特征已可用）：
```bash
cd src
python feature_extraction.py
```
注意：这需要先克隆Eclipse源码仓库（~500MB）

## 下一步

1. 运行训练: `./scripts/run_training.sh`
2. 查看结果: 检查控制台输出或 `output/training_log_*.txt`
3. 对比性能: 与仓库README.md中的原始结果对比

## 技术支持

详细文档请查看：
- `docs/环境配置与复现报告.md` - 完整的环境配置说明
- `docs/训练时长优化建议.md` - 训练加速方案
- `README.md` - 原始项目说明

祝训练顺利！
