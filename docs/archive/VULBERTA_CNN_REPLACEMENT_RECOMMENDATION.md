# VulBERTa-CNN æ›¿æ¢æ–¹æ¡ˆæŽ¨è

**æ—¥æœŸ**: 2025-11-15
**é—®é¢˜**: parallel_feasibility_test.json åºå·7ä½¿ç”¨VulBERTa-CNNä½œä¸ºbackgroundï¼Œä½†è¯¥æ¨¡åž‹è®­ç»ƒæœªå®žçŽ°
**å½±å“**: Backgroundå¿«é€Ÿé€€å‡ºé‡å¯å¾ªçŽ¯ï¼ˆ103æ¬¡ï¼‰ï¼Œæ— GPUè´Ÿè½½ï¼Œæµ‹è¯•æ— æ•ˆ

---

## åŽŸå§‹é…ç½®åˆ†æž

### åºå·7å½“å‰é…ç½®

```json
{
  "foreground": {
    "repo": "VulBERTa",
    "model": "mlp",
    "memory": "1300MB"
  },
  "background": {
    "repo": "VulBERTa",
    "model": "cnn",         // âŒ æœªå®žçŽ°
    "memory": "1500MB"
  },
  "total_memory": "2800MB", // å®žé™…å€¼
  "target_memory": "3000MB", // åŽŸå§‹è®¾è®¡ç›®æ ‡
  "tier": "ä¸­æ˜¾å­˜ (3000-5000MB)"
}
```

### åˆ†å±‚æŠ½æ ·ä¸Šä¸‹æ–‡

**ä¸­æ˜¾å­˜å±‚çº§çš„6ä¸ªå®žéªŒ**:

| åºå· | æ€»æ˜¾å­˜ | å‰æ™¯æ¨¡åž‹ | èƒŒæ™¯æ¨¡åž‹ | çŠ¶æ€ |
|------|--------|---------|---------|------|
| 6 | 3000MB | mnist_rnn | hrnet18 | âœ… |
| **7** | **3000MB** | **VulBERTa_mlp** | **VulBERTa_cnn** | **âŒ** |
| 8 | 3500MB | siamese | pcb | âœ… |
| 9 | 3500MB | pcb | VulBERTa_mlp | âœ… |
| 10 | 4000MB | mnist_ff | densenet121 | âœ… |
| 11 | 4000MB | pcb | bug-localization | âœ… |

**ä½ç½®ç‰¹ç‚¹**:
- åºå·7æ˜¯ä¸­æ˜¾å­˜å±‚çº§çš„**ç¬¬2ä¸ªå®žéªŒ**
- è®¾è®¡ç›®æ ‡: 3000MBï¼ˆå±‚çº§ä¸‹é™ï¼‰
- å®žé™…æ˜¾å­˜: 2800MBï¼ˆä½ŽäºŽç›®æ ‡ï¼‰

---

## æ›¿æ¢æ–¹æ¡ˆå¯¹æ¯”

### æ–¹æ¡ˆ1: MRT-OAST/default â­â­â­ **æŽ¨è**

**é…ç½®**:
```json
{
  "background": {
    "repo": "MRT-OAST",
    "model": "default",
    "hyperparameters": {
      "epochs": 1,
      "learning_rate": 0.0001,
      "dropout": 0.2,
      "seed": 1334
    }
  }
}
```

**æ˜¾å­˜åˆ†æž**:
- Backgroundæ˜¾å­˜: **1700MB**
- Foregroundæ˜¾å­˜: 1300MB
- **æ€»æ˜¾å­˜: 3000MB** âœ… å®Œç¾ŽåŒ¹é…åŽŸå§‹è®¾è®¡

**éªŒè¯çŠ¶æ€**:
- âœ… å·²åœ¨åºå·5ä½œä¸ºbackgroundéªŒè¯é€šè¿‡
- âœ… è®­ç»ƒå¿«é€Ÿï¼ˆ~26ç§’/epochï¼‰
- âœ… GPUåˆ©ç”¨çŽ‡é«˜ï¼ˆF1è®­ç»ƒæ—¶80-90%ï¼‰

**ä¼˜ç‚¹**:
1. âœ… **å®Œç¾Žä¿æŒ3000MBæ€»æ˜¾å­˜**ï¼Œç¬¦åˆåŽŸå§‹åˆ†å±‚æŠ½æ ·é€»è¾‘
2. âœ… **æ­£å¥½åœ¨ä¸­æ˜¾å­˜ä¸‹é™**ï¼Œç»´æŒ6ä¸ªä¸­æ˜¾å­˜æ ·æœ¬
3. âœ… **è®­ç»ƒå¿«é€Ÿ**ï¼ˆ~26ç§’ï¼‰ï¼Œé¿å…å®žéªŒæ—¶é—´è¿‡é•¿
4. âœ… **å·²éªŒè¯å¯ç”¨**ä½œä¸ºbackgroundï¼Œé£Žé™©ä½Ž
5. âœ… **GPUåˆ©ç”¨çŽ‡é«˜**ï¼Œèƒ½äº§ç”ŸçœŸå®žè´Ÿè½½

**ç¼ºç‚¹**:
- âš ï¸ ä»…éªŒè¯è¿‡1æ¬¡ä½œä¸ºbackgroundï¼ˆä½†æœºåˆ¶ç›¸åŒï¼‰

**æŽ¨èæŒ‡æ•°**: â­â­â­â­â­

---

### æ–¹æ¡ˆ2: Person_reID_baseline_pytorch/hrnet18 â­â­

**é…ç½®**:
```json
{
  "background": {
    "repo": "Person_reID_baseline_pytorch",
    "model": "hrnet18",
    "hyperparameters": {
      "epochs": 1,
      "learning_rate": 0.05,
      "dropout": 0.5,
      "seed": 1334
    }
  }
}
```

**æ˜¾å­˜åˆ†æž**:
- Backgroundæ˜¾å­˜: **2000MB**
- Foregroundæ˜¾å­˜: 1300MB
- **æ€»æ˜¾å­˜: 3300MB** âœ… ä»åœ¨ä¸­æ˜¾å­˜èŒƒå›´

**éªŒè¯çŠ¶æ€**:
- âœ… å·²åœ¨åºå·6ä½œä¸ºbackgroundéªŒè¯é€šè¿‡
- âš ï¸ è®­ç»ƒè¾ƒæ…¢ï¼ˆæ—¶é•¿æœªçŸ¥ï¼Œä½†hrneté€šå¸¸è¾ƒæ…¢ï¼‰

**ä¼˜ç‚¹**:
1. âœ… **åœ¨ä¸­æ˜¾å­˜èŒƒå›´å†…**ï¼ˆ3300MBï¼‰
2. âœ… **å·²éªŒè¯ä½œä¸ºbackground**ï¼Œå¯é æ€§é«˜
3. âœ… æ˜¾å­˜åˆ©ç”¨åˆç†

**ç¼ºç‚¹**:
- âš ï¸ **é«˜äºŽåŽŸå§‹è®¾è®¡300MB**ï¼Œç•¥å¾®æ‰“ç ´åˆ†å±‚å¹³è¡¡
- âš ï¸ **è®­ç»ƒæ—¶é—´è¾ƒé•¿**ï¼Œå¯èƒ½å»¶é•¿å®žéªŒæ€»æ—¶é•¿
- âš ï¸ ä»…éªŒè¯è¿‡1æ¬¡

**æŽ¨èæŒ‡æ•°**: â­â­â­

---

### æ–¹æ¡ˆ3: pytorch_resnet_cifar10/resnet20 â­

**é…ç½®**:
```json
{
  "background": {
    "repo": "pytorch_resnet_cifar10",
    "model": "resnet20",
    "hyperparameters": {
      "epochs": 1,
      "learning_rate": 0.1,
      "seed": 1334
    }
  }
}
```

**æ˜¾å­˜åˆ†æž**:
- Backgroundæ˜¾å­˜: **1000MB**
- Foregroundæ˜¾å­˜: 1300MB
- **æ€»æ˜¾å­˜: 2300MB** âŒ ä½ŽäºŽä¸­æ˜¾å­˜èŒƒå›´

**éªŒè¯çŠ¶æ€**:
- âœ… **æœ€å¸¸ç”¨**ï¼ˆ6æ¬¡ä½œä¸ºbackgroundï¼‰
- âœ… **100%éªŒè¯é€šè¿‡**
- âœ… è®­ç»ƒå¿«é€Ÿï¼ˆ11ç§’/epochï¼‰

**ä¼˜ç‚¹**:
1. âœ… **æœ€ç¨³å®šå¯é **ï¼ˆ6æ¬¡éªŒè¯ï¼Œ100%æˆåŠŸï¼‰
2. âœ… **è®­ç»ƒæœ€å¿«**ï¼ˆ11ç§’ï¼‰
3. âœ… **GPUè´Ÿè½½ç¨³å®š**

**ç¼ºç‚¹**:
- âŒ **æ€»æ˜¾å­˜2300MBï¼Œä½ŽäºŽä¸­æ˜¾å­˜ä¸‹é™3000MB**
- âŒ **æ‰“ç ´åŽŸå§‹åˆ†å±‚æŠ½æ ·é€»è¾‘**
- âŒ åºå·7ä¼šä»Ž"ä¸­æ˜¾å­˜"é™çº§ä¸º"ä½Žæ˜¾å­˜"

**æŽ¨èæŒ‡æ•°**: â­â­

---

## æœ€ç»ˆæŽ¨è

### ðŸ† æŽ¨è: **MRT-OAST/default**

**ç†ç”±**:

1. **å®Œç¾Žä¿æŒåˆ†å±‚é€»è¾‘** âœ…
   - æ€»æ˜¾å­˜3000MBï¼Œä¸ŽåŽŸå§‹è®¾è®¡å®Œå…¨ä¸€è‡´
   - ç»´æŒä¸­æ˜¾å­˜å±‚çº§çš„6ä¸ªæ ·æœ¬
   - ä¸æ‰“ç ´åˆ†å±‚æŠ½æ ·å¹³è¡¡

2. **å·²éªŒè¯å¯ç”¨** âœ…
   - åºå·5ä¸­ä½œä¸ºbackgroundæˆåŠŸè¿è¡Œ
   - è®­ç»ƒå¿«é€Ÿä¸”ç¨³å®šï¼ˆ~26ç§’ï¼‰
   - GPUåˆ©ç”¨çŽ‡é«˜ï¼ˆ80-90%ï¼‰

3. **æŠ€æœ¯åˆç†æ€§** âœ…
   - æ˜¾å­˜å ç”¨åˆç†ï¼ˆ1700MBï¼‰
   - è®­ç»ƒæ—¶é•¿é€‚ä¸­ï¼ˆä¸ä¼šè¿‡é•¿ï¼‰
   - èƒ½äº§ç”ŸçœŸå®žGPUè´Ÿè½½

4. **é£Žé™©è¯„ä¼°** âœ…
   - ä½Žé£Žé™©ï¼šå·²éªŒè¯æœºåˆ¶ç›¸åŒ
   - å¿«é€ŸéªŒè¯ï¼šå•æ¬¡è¿è¡Œå³å¯ç¡®è®¤
   - æ˜“å›žé€€ï¼šå¦‚æœ‰é—®é¢˜å¯å¿«é€Ÿæ”¹ç”¨æ–¹æ¡ˆ2

---

## ä¿®æ”¹å»ºè®®

**ä¿®æ”¹æ–‡ä»¶**: `settings/parallel_feasibility_test.json`

**ä¿®æ”¹ä½ç½®**: å®žéªŒ7 (ç´¢å¼•6)

**ä¿®æ”¹å†…å®¹**:

```json
{
  "mode": "parallel",
  "foreground": {
    "repo": "VulBERTa",
    "model": "mlp",
    "mode": "default",
    "hyperparameters": {
      "epochs": 1,
      "learning_rate": 3e-05,
      "seed": 1334
    }
  },
  "background": {
    "repo": "MRT-OAST",              // â† ä¿®æ”¹
    "model": "default",              // â† ä¿®æ”¹
    "hyperparameters": {
      "epochs": 1,
      "learning_rate": 0.0001,       // â† ä¿®æ”¹
      "dropout": 0.2,                // â† æ–°å¢ž
      "seed": 1334
    }
  },
  "note": "Group 7: ä¸­æ˜¾å­˜ (3000MB) - VulBERTa_mlp + MRT-OAST"  // â† æ›´æ–°è¯´æ˜Ž
}
```

---

## éªŒè¯æ­¥éª¤

ä¿®æ”¹åŽå»ºè®®è¿›è¡Œå¿«é€ŸéªŒè¯ï¼š

```bash
# 1. åˆ›å»ºå•å®žéªŒéªŒè¯é…ç½®
cat > settings/verify_mrt_oast_background.json << 'EOF'
{
  "experiment_name": "verify_mrt_oast_background",
  "description": "éªŒè¯MRT-OASTä½œä¸ºVulBERTa_mlpçš„background",
  "governor": "performance",
  "runs_per_config": 1,
  "max_retries": 1,
  "mode": "parallel",
  "experiments": [
    {
      "mode": "parallel",
      "foreground": {
        "repo": "VulBERTa",
        "model": "mlp",
        "mode": "default",
        "hyperparameters": {
          "epochs": 1,
          "learning_rate": 3e-05,
          "seed": 1334
        }
      },
      "background": {
        "repo": "MRT-OAST",
        "model": "default",
        "hyperparameters": {
          "epochs": 1,
          "learning_rate": 0.0001,
          "dropout": 0.2,
          "seed": 1334
        }
      }
    }
  ]
}
EOF

# 2. è¿è¡ŒéªŒè¯ï¼ˆé¢„è®¡7-8åˆ†é’Ÿï¼‰
python mutation.py -ec settings/verify_mrt_oast_background.json

# 3. æ£€æŸ¥ç»“æžœ
# - Foreground: VulBERTa_mlpåº”æˆåŠŸå®Œæˆï¼ˆ~6åˆ†é’Ÿï¼‰
# - Background: MRT-OASTåº”æŒç»­è¿è¡Œå¹¶äº§ç”ŸGPUè´Ÿè½½
# - æ€»æ˜¾å­˜: åº”æŽ¥è¿‘3000MB
```

---

## é¢„æœŸç»“æžœ

ä¿®æ”¹åŽçš„åºå·7å®žéªŒé¢„æœŸï¼š

| é¡¹ç›® | é¢„æœŸå€¼ |
|------|--------|
| **Foregroundè®­ç»ƒ** | æˆåŠŸï¼Œ~374ç§’ |
| **Backgroundè®­ç»ƒ** | æŒç»­å¾ªçŽ¯ï¼Œæ¯æ¬¡~26ç§’ |
| **Backgroundå¾ªçŽ¯æ¬¡æ•°** | ~15æ¬¡ï¼ˆ374ç§’ / 26ç§’ï¼‰ |
| **GPUè´Ÿè½½** | æŒç»­ï¼Œæ— ç©ºé—² âœ… |
| **æ€»æ˜¾å­˜** | ~3000MB âœ… |
| **æµ‹è¯•æœ‰æ•ˆæ€§** | æœ‰æ•ˆ âœ… |

---

## å¤‡é€‰æ–¹æ¡ˆ

å¦‚æžœMRT-OASTå‡ºçŽ°é—®é¢˜ï¼ŒæŒ‰ä»¥ä¸‹é¡ºåºå°è¯•ï¼š

1. **Person_reID_baseline_pytorch/hrnet18** (3300MB)
   - æ›´ä¿å®ˆï¼Œå·²éªŒè¯
   - è®­ç»ƒè¾ƒæ…¢ä½†ç¨³å®š

2. **pytorch_resnet_cifar10/resnet20** (2300MB)
   - æœ€ç¨³å®šï¼Œä½†æ‰“ç ´åˆ†å±‚
   - ä»…ä½œä¸ºæœ€åŽé€‰æ‹©

---

**çŠ¶æ€**: âœ… æŽ¨èå®Œæˆï¼Œç­‰å¾…ç¡®è®¤
**ä¼˜å…ˆçº§**: é«˜
**é£Žé™©**: ä½Ž
