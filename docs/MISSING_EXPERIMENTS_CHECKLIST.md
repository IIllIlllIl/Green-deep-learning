# ç¼ºå¤±å®éªŒæ¸…å• - results/summary_all.csv

**ç”Ÿæˆæ—¶é—´**: 2025-11-26
**åˆ†ææ•°æ®**: results/summary_all.csv (211 ä¸ªå®éªŒ)
**ç›®çš„**: åˆ—å‡ºéœ€è¦è¡¥å……çš„å®éªŒï¼Œç”¨äºä¸‹ä¸€è½® 2x å˜å¼‚æµ‹è¯•

---

## ğŸ“Š æ€»ä½“ç»Ÿè®¡

- **å½“å‰å®éªŒæ€»æ•°**: 211
- **é¢„æœŸå®éªŒæ€»æ•°**: 280
- **ç¼ºå¤±å®éªŒæ€»æ•°**: **69**
- **å†—ä½™å®éªŒæ•°**: 6ï¼ˆè½®é—´é‡å¤ï¼‰

---

## ğŸ” ç¼ºå¤±å®éªŒè¯¦ç»†åˆ†ç±»

### ç±»åˆ« 1: Person_reID_baseline_pytorch æ¨¡å‹ç¼ºå¤±ï¼ˆ31ä¸ªï¼‰

#### âœ— hrnet18 - mutation_2x_safe ç¼ºå¤± 15 ä¸ª

| æ¥æº | é¢„æœŸ | å®é™… | ç¼ºå¤± | çŠ¶æ€ |
|------|------|------|------|------|
| default | 2 | 2 | 0 | âœ“ å®Œæ•´ |
| mutation_1x | 8 | 8 | 0 | âœ“ å®Œæ•´ |
| mutation_2x_safe | 16 | 1 | **15** | âœ— **ç¼ºå¤±** |
| **æ€»è®¡** | **26** | **11** | **15** | - |

**åŸå› **:
- mutation_2x åŸå§‹æ•°æ®ä¸­æœ‰ 14 ä¸ª hrnet18 å®éªŒåœ¨å­¤å„¿è¿›ç¨‹å½±å“åŒºé—´
- è¿™äº›æ•°æ®è¢«æ’é™¤åœ¨ summary_safe.csv ä¹‹å¤–
- åªæœ‰ 1 ä¸ª hrnet18 å®éªŒåœ¨å®‰å…¨åŒºé—´

**éœ€è¦è¡¥å……**: 15 ä¸ª mutation_2x hrnet18 å®éªŒ

---

#### âœ— pcb - mutation_2x_safe ç¼ºå¤± 16 ä¸ª

| æ¥æº | é¢„æœŸ | å®é™… | ç¼ºå¤± | çŠ¶æ€ |
|------|------|------|------|------|
| default | 2 | 2 | 0 | âœ“ å®Œæ•´ |
| mutation_1x | 8 | 8 | 0 | âœ“ å®Œæ•´ |
| mutation_2x_safe | 16 | 0 | **16** | âœ— **ç¼ºå¤±** |
| **æ€»è®¡** | **26** | **10** | **16** | - |

**åŸå› **:
- mutation_2x åŸå§‹æ•°æ®ä¸­æ‰€æœ‰ 16 ä¸ª pcb å®éªŒéƒ½å¤±è´¥äº†
- å¤±è´¥åŸå› ï¼šGPU å†…å­˜æº¢å‡ºï¼ˆOOMï¼‰

**éœ€è¦è¡¥å……**: 16 ä¸ª mutation_2x pcb å®éªŒ

---

### ç±»åˆ« 2: examples/mnist_ff å®Œå…¨ç¼ºå¤±ï¼ˆ20ä¸ªï¼‰

| æ¥æº | é¢„æœŸ | å®é™… | ç¼ºå¤± | çŠ¶æ€ |
|------|------|------|------|------|
| default | 2 | 0 | 2 | âœ— è¢«è¿‡æ»¤ |
| mutation_1x | 6 | 0 | 6 | âœ— è¢«è¿‡æ»¤ |
| mutation_2x_safe | 12 | 0 | 12 | âœ— è¢«è¿‡æ»¤ |
| **æ€»è®¡** | **20** | **0** | **20** | - |

**åŸå› **:
- æ‰€æœ‰ mnist_ff å®éªŒéƒ½å› ä¸º batch_size=50000 å¯¼è‡´ GPU OOM
- åœ¨ CSV èšåˆæ—¶è¢«è¿‡æ»¤æ‰ï¼ˆaggregate_csvs.py é»˜è®¤è¿‡æ»¤ mnist_ffï¼‰
- batch_size å·²ä¿®æ”¹ä¸º 10000ï¼Œä½†æœªé‡æ–°è¿è¡Œ

**è¢«è¿‡æ»¤çš„å®éªŒç»Ÿè®¡**:
- default: 2 ä¸ªï¼ˆå…¨å¤±è´¥ï¼‰
- mutation_1x: 6 ä¸ªï¼ˆå…¨å¤±è´¥ï¼‰
- mutation_2x: 12 ä¸ªï¼ˆå…¨å¤±è´¥ï¼‰

**éœ€è¦è¡¥å……**: 20 ä¸ª mnist_ff å®éªŒï¼ˆæ‰€æœ‰è½®æ¬¡ï¼‰

---

### ç±»åˆ« 3: è½®é—´é‡å¤å®éªŒï¼ˆ6ä¸ªå†—ä½™ï¼‰

è™½ç„¶ä¸æ˜¯"ç¼ºå¤±"ï¼Œä½†è¿™äº›æ˜¯é‡å¤çš„ï¼Œç†è®ºä¸Šå¯ä»¥æ›¿æ¢ä¸ºæ–°çš„è¶…å‚æ•°ç»„åˆï¼š

#### é‡å¤ç»„ 1: examples/mnist_rnn (epochs=12.0)
- **å‡ºç°æ¬¡æ•°**: 3 æ¬¡
  - mutation_1x: 1 æ¬¡
  - mutation_2x_safe: 2 æ¬¡
- **å†—ä½™æ•°**: 2 æ¬¡
- **å»ºè®®**: ä¿ç•™ 1 æ¬¡ï¼Œç”¨æ–°è¶…å‚æ•°æ›¿æ¢ 2 æ¬¡

#### é‡å¤ç»„ 2: examples/siamese (epochs=14.0)
- **å‡ºç°æ¬¡æ•°**: 2 æ¬¡
  - mutation_1x: 1 æ¬¡
  - mutation_2x_safe: 1 æ¬¡
- **å†—ä½™æ•°**: 1 æ¬¡
- **å»ºè®®**: ä¿ç•™ 1 æ¬¡ï¼Œç”¨æ–°è¶…å‚æ•°æ›¿æ¢ 1 æ¬¡

#### é‡å¤ç»„ 3: MRT-OAST/default (epochs=8.0)
- **å‡ºç°æ¬¡æ•°**: 3 æ¬¡
  - mutation_1x: 2 æ¬¡
  - mutation_2x_safe: 1 æ¬¡
- **å†—ä½™æ•°**: 2 æ¬¡
- **å»ºè®®**: ä¿ç•™ 1 æ¬¡ï¼Œç”¨æ–°è¶…å‚æ•°æ›¿æ¢ 2 æ¬¡

#### é‡å¤ç»„ 4: VulBERTa/mlp (epochs=12.0)
- **å‡ºç°æ¬¡æ•°**: 2 æ¬¡
  - mutation_1x: 1 æ¬¡
  - mutation_2x_safe: 1 æ¬¡
- **å†—ä½™æ•°**: 1 æ¬¡
- **å»ºè®®**: ä¿ç•™ 1 æ¬¡ï¼Œç”¨æ–°è¶…å‚æ•°æ›¿æ¢ 1 æ¬¡

**æ€»è®¡å†—ä½™**: 6 ä¸ªå®éªŒ

---

## ğŸ“‹ ç¼ºå¤±å®éªŒæ±‡æ€»è¡¨

| ç±»åˆ« | æ¨¡å‹ | ç¼ºå¤±æ•°é‡ | åŸå›  | ä¼˜å…ˆçº§ |
|------|------|----------|------|--------|
| 1 | Person_reID/hrnet18 | 15 | å­¤å„¿è¿›ç¨‹å½±å“ | ğŸ”´ é«˜ |
| 2 | Person_reID/pcb | 16 | GPU OOM | ğŸ”´ é«˜ |
| 3 | examples/mnist_ff | 20 | GPU OOM + è¢«è¿‡æ»¤ | ğŸŸ¡ ä¸­ |
| 4 | è½®é—´é‡å¤ï¼ˆå¯é€‰ï¼‰ | 6 | è¶…å‚æ•°é‡å¤ | ğŸŸ¢ ä½ |
| **æ€»è®¡** | - | **57** | - | - |

**æ³¨**: å†—ä½™å®éªŒä¸ç®—åœ¨"ç¼ºå¤±"ä¸­ï¼Œä½†å¯ä»¥åœ¨æ–°ä¸€è½®ä¸­æ›¿æ¢ä¸ºä¸é‡å¤çš„è¶…å‚æ•°ç»„åˆã€‚

---

## ğŸ¯ æ–°ä¸€è½®å®éªŒå»ºè®®

### æ–¹æ¡ˆ 1: ä»…è¡¥å……ç¼ºå¤±ï¼ˆæ¨èï¼‰

**ç›®æ ‡**: è¡¥å…… 51 ä¸ªç¡®å®ç¼ºå¤±çš„å®éªŒ

```json
{
  "experiment_name": "mutation_è¡¥å……ç¼ºå¤±",
  "mode": "batch",
  "runs_per_config": 2,
  "experiments": [
    {
      "repo": "Person_reID_baseline_pytorch",
      "model": "hrnet18",
      "num_mutations": 8,
      "mutate": ["epochs"]
    },
    {
      "repo": "Person_reID_baseline_pytorch",
      "model": "pcb",
      "num_mutations": 8,
      "mutate": ["epochs"]
    },
    {
      "repo": "examples",
      "model": "mnist_ff",
      "num_mutations": 10,
      "mutate": ["epochs", "learning_rate"]
    }
  ]
}
```

**å®éªŒæ•°é‡**:
- hrnet18: 8 Ã— 2 = 16 æ¬¡ï¼ˆè¡¥å…… 15 ä¸ªç¼ºå¤± + 1 ä¸ªé¢å¤–ï¼‰
- pcb: 8 Ã— 2 = 16 æ¬¡ï¼ˆè¡¥å…… 16 ä¸ªç¼ºå¤±ï¼‰
- mnist_ff: 10 Ã— 2 = 20 æ¬¡ï¼ˆè¡¥å…… 20 ä¸ªç¼ºå¤±ï¼‰
- **æ€»è®¡**: 52 æ¬¡

---

### æ–¹æ¡ˆ 2: è¡¥å……ç¼ºå¤± + æ–°å˜å¼‚æµ‹è¯•

**ç›®æ ‡**: è¡¥å……ç¼ºå¤± + å…¶ä»–æ¨¡å‹çš„æ–°å˜å¼‚

```json
{
  "experiment_name": "mutation_è¡¥å……å’Œæ–°å˜å¼‚",
  "mode": "batch",
  "runs_per_config": 2,
  "experiments": [
    // è¡¥å……ç¼ºå¤±
    {"repo": "Person_reID_baseline_pytorch", "model": "hrnet18", "num_mutations": 8},
    {"repo": "Person_reID_baseline_pytorch", "model": "pcb", "num_mutations": 8},
    {"repo": "examples", "model": "mnist_ff", "num_mutations": 10},

    // å…¶ä»–æ¨¡å‹çš„æ–°å˜å¼‚ï¼ˆä½¿ç”¨å»é‡æœºåˆ¶ï¼‰
    {"repo": "VulBERTa", "model": "mlp", "num_mutations": 5},
    {"repo": "examples", "model": "mnist", "num_mutations": 5},
    {"repo": "examples", "model": "mnist_rnn", "num_mutations": 5},
    {"repo": "examples", "model": "siamese", "num_mutations": 5}
  ]
}
```

**å®éªŒæ•°é‡**:
- è¡¥å……ç¼ºå¤±: 52 æ¬¡
- æ–°å˜å¼‚: 20 Ã— 2 = 40 æ¬¡
- **æ€»è®¡**: 92 æ¬¡

---

### æ–¹æ¡ˆ 3: å®Œæ•´çš„ mutation_3x

**ç›®æ ‡**: å®Œæ•´çš„ç¬¬ 3 è½®å˜å¼‚æµ‹è¯•ï¼ŒåŒ…å«æ‰€æœ‰æ¨¡å‹

åŒ…å«ï¼š
- è¡¥å…… hrnet18ã€pcbã€mnist_ff çš„ç¼ºå¤±
- æ‰€æœ‰å…¶ä»–æ¨¡å‹çš„æ–°å˜å¼‚ï¼ˆä½¿ç”¨è½®é—´å»é‡æœºåˆ¶ï¼‰

**å®éªŒæ•°é‡**: çº¦ 120-150 æ¬¡

---

## ğŸ’¡ å»ºè®®é…ç½®

### å…³é”®é…ç½®é¡¹

```json
{
  "experiment_name": "mutation_è¡¥å……_20251126",
  "mode": "batch",
  "runs_per_config": 2,
  "max_retries": 2,
  "governor": "performance",
  "use_deduplication": true,  // å¯ç”¨è½®é—´å»é‡
  "historical_csvs": [        // å†å²æ•°æ®å»é‡
    "results/defualt/summary.csv",
    "results/mutation_1x/summary.csv",
    "results/mutation_2x_20251122_175401/summary_safe.csv"
  ]
}
```

### é’ˆå¯¹é—®é¢˜æ¨¡å‹çš„ä¼˜åŒ–

#### 1. mnist_ff - é˜²æ­¢ OOM
```json
{
  "repo": "examples",
  "model": "mnist_ff",
  "num_mutations": 10,
  "mutate": ["epochs", "learning_rate"],
  "hyperparameters": {
    "batch_size": 10000  // å·²ä¿®æ”¹ï¼Œåº”è¯¥ä¸ä¼š OOM
  }
}
```

#### 2. pcb - é˜²æ­¢ OOM
```json
{
  "repo": "Person_reID_baseline_pytorch",
  "model": "pcb",
  "num_mutations": 8,
  "mutate": ["epochs"],
  "hyperparameters": {
    "batchsize": 8  // ä» 16 é™åˆ° 8ï¼Œæ›´ä¿å®ˆ
  }
}
```

#### 3. hrnet18 - æ­£å¸¸é…ç½®
```json
{
  "repo": "Person_reID_baseline_pytorch",
  "model": "hrnet18",
  "num_mutations": 8,
  "mutate": ["epochs"]
  // ä½¿ç”¨é»˜è®¤é…ç½®å³å¯
}
```

---

## â±ï¸ é¢„ä¼°è¿è¡Œæ—¶é—´

åŸºäºå†å²æ•°æ®ï¼š

### æ–¹æ¡ˆ 1ï¼ˆ52 ä¸ªå®éªŒï¼‰

| æ¨¡å‹ | æ¬¡æ•° | å•æ¬¡æ—¶é—´ | æ€»æ—¶é—´ |
|------|------|----------|--------|
| hrnet18 | 16 | ~74 åˆ†é’Ÿ | ~19.7 å°æ—¶ |
| pcb | 16 | ~70 åˆ†é’Ÿ | ~18.7 å°æ—¶ |
| mnist_ff | 20 | ~2 åˆ†é’Ÿ | ~0.7 å°æ—¶ |
| **æ€»è®¡** | **52** | - | **~39 å°æ—¶** |

**å»ºè®®**: åˆ†æ‰¹è¿è¡Œï¼Œæ¯æ‰¹çº¦ 12-15 å°æ—¶

---

### æ–¹æ¡ˆ 2ï¼ˆ92 ä¸ªå®éªŒï¼‰

- è¡¥å……å®éªŒ: ~39 å°æ—¶
- æ–°å˜å¼‚å®éªŒ: ~20 å°æ—¶
- **æ€»è®¡**: **~59 å°æ—¶** (~2.5 å¤©)

---

### æ–¹æ¡ˆ 3ï¼ˆ120-150 ä¸ªå®éªŒï¼‰

- **æ€»è®¡**: **~70-90 å°æ—¶** (~3-4 å¤©)

---

## ğŸš¦ æ‰§è¡Œä¼˜å…ˆçº§

### ç«‹å³æ‰§è¡Œï¼ˆP0ï¼‰
âœ… **Person_reID/hrnet18** (15 ä¸ª)
- åŸå› ï¼šæ•°æ®å®Œæ•´æ€§æœ€é‡è¦
- è¿™æ˜¯å”¯ä¸€å› å­¤å„¿è¿›ç¨‹è€Œç¼ºå¤±çš„æ•°æ®

âœ… **Person_reID/pcb** (16 ä¸ª)
- åŸå› ï¼šè¡¥å…¨ Person_reID æ¨¡å‹ç³»åˆ—
- éœ€è¦ä¼˜åŒ–é…ç½®é˜²æ­¢ OOM

### é«˜ä¼˜å…ˆçº§ï¼ˆP1ï¼‰
ğŸŸ¡ **examples/mnist_ff** (20 ä¸ª)
- åŸå› ï¼šå®Œæ•´çš„æ¨¡å‹è¦†ç›–
- éªŒè¯ batch_size ä¿®å¤æ˜¯å¦æœ‰æ•ˆ

### ä¸­ç­‰ä¼˜å…ˆçº§ï¼ˆP2ï¼‰
ğŸŸ¢ **å…¶ä»–æ¨¡å‹çš„æ–°å˜å¼‚**
- åŸå› ï¼šå¢åŠ æ•°æ®å¤šæ ·æ€§
- ä½¿ç”¨å»é‡æœºåˆ¶é¿å…é‡å¤

---

## ğŸ“Œ æ³¨æ„äº‹é¡¹

### 1. å¯ç”¨ GPU æ¸…ç†æœºåˆ¶
ç¡®ä¿åœ¨é…ç½®ä¸­å¯ç”¨ï¼š
```json
"cleanup_gpu_memory": true,
"cleanup_between_experiments": true
```

### 2. ä½¿ç”¨è½®é—´å»é‡æœºåˆ¶
åŠ è½½å†å² CSV åˆå§‹åŒ–å»é‡é›†åˆï¼š
```python
from mutation.dedup import load_historical_mutations, build_dedup_set

csv_files = [
    "results/defualt/summary.csv",
    "results/mutation_1x/summary.csv",
    "results/mutation_2x_20251122_175401/summary_safe.csv"
]

mutations, _ = load_historical_mutations(csv_files)
dedup_set = build_dedup_set(mutations)
```

### 3. ç›‘æ§ GPU å†…å­˜
é‡ç‚¹ç›‘æ§ï¼š
- mnist_ff: ç¡®è®¤ batch_size=10000 ä¸ä¼š OOM
- pcb: å¯èƒ½éœ€è¦è¿›ä¸€æ­¥è°ƒæ•´ batch_size

### 4. å¢åŠ é‡è¯•æ¬¡æ•°
å¯¹äºå®¹æ˜“ OOM çš„æ¨¡å‹ï¼š
```json
"max_retries": 2  // ä» 1 å¢åŠ åˆ° 2
```

---

## ğŸ“Š å®Œæˆåçš„æ•°æ®çŠ¶æ€

æ‰§è¡Œ**æ–¹æ¡ˆ 1**åï¼š

| æŒ‡æ ‡ | å½“å‰ | è¡¥å……å |
|------|------|--------|
| æ€»å®éªŒæ•° | 211 | 263 |
| hrnet18 å®éªŒæ•° | 11 | 26 âœ“ |
| pcb å®éªŒæ•° | 10 | 26 âœ“ |
| mnist_ff å®éªŒæ•° | 0 | 20 âœ“ |
| æ¨¡å‹å®Œæ•´æ€§ | 90% | 100% âœ“ |

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- **CSV èšåˆ**: `scripts/aggregate_csvs.py`
- **å»é‡æœºåˆ¶**: `docs/INTER_ROUND_DEDUPLICATION.md`
- **2x å˜å¼‚æµ‹è¯•æ€»ç»“**: `docs/MUTATION_2X_DATA_SUMMARY.md`
- **å­¤å„¿è¿›ç¨‹åˆ†æ**: `docs/ORPHAN_PROCESS_ANALYSIS.md`
- **GPU æ¸…ç†æœºåˆ¶**: `docs/GPU_MEMORY_CLEANUP_FIX.md`

---

**ç”Ÿæˆæ—¶é—´**: 2025-11-26
**ç»´æŠ¤è€…**: Mutation-Based Training Energy Profiler Team
