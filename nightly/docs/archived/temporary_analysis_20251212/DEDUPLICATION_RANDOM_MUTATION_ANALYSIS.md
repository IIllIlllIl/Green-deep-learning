# å»é‡æœºåˆ¶ä¸éšæœºå˜å¼‚åˆ†ææŠ¥å‘Š

**æ—¥æœŸ**: 2025-12-08
**ç‰ˆæœ¬**: v4.7.2
**é—®é¢˜**: éšæœºå˜å¼‚æ˜¯å¦ä¼šå¯¼è‡´å»é‡æœºåˆ¶å¤±æ•ˆï¼Ÿ

---

## ğŸ¯ æ ¸å¿ƒé—®é¢˜

**ç”¨æˆ·æå‡ºçš„å…³é”®ç–‘é—®**:
> "ç”±äºæˆ‘ä»¬æ¯æ¬¡éšæœºå˜å¼‚ï¼Œå·²å®Œæˆçš„å®éªŒå€¼ï¼Œæœªå¿…ä¼šåœ¨ä¸‹ä¸€æ¬¡å˜å¼‚ä¸­å‡ºç°ï¼Œæ‰€ä»¥æ˜¯å¦æœ‰å¯èƒ½ä¸è§¦å‘å»é‡æœºåˆ¶ï¼Œè€Œè¿è¡Œå¤šä½™çš„å®éªŒï¼Ÿ"

è¿™æ˜¯ä¸€ä¸ª**éå¸¸å¥½çš„é—®é¢˜**ï¼Œè§¦åŠäº†å»é‡æœºåˆ¶çš„æ ¸å¿ƒè®¾è®¡ã€‚

---

## ğŸ“Š Stage11å·²å®Œæˆå®éªŒæ•°æ®

æŸ¥çœ‹ `results/run_20251207_155242/summary.csv`ï¼ŒStage11å·²å®Œæˆçš„4ä¸ªå®éªŒè¶…å‚æ•°å€¼ï¼š

| Exp ID | epochs | learning_rate | seed | dropout |
|--------|--------|---------------|------|---------|
| 001 | 53 | (default) | (default) | (default) |
| 002 | (default) | 0.030180 | (default) | (default) |
| 003 | (default) | (default) | 6621 | (default) |
| 004 | (default) | (default) | (default) | 0.543581 |

**å…³é”®è§‚å¯Ÿ**:
- æ¯ä¸ªå®éªŒåªå˜å¼‚äº†1ä¸ªå‚æ•°ï¼ˆå•å‚æ•°å˜å¼‚åŸåˆ™ âœ…ï¼‰
- å…·ä½“æ•°å€¼éƒ½æ˜¯**éšæœºç”Ÿæˆ**çš„ï¼š
  - epochs=53ï¼ˆéšæœºï¼‰
  - learning_rate=0.030180ï¼ˆéšæœºï¼‰
  - seed=6621ï¼ˆéšæœºï¼‰
  - dropout=0.543581ï¼ˆéšæœºï¼‰

---

## ğŸ” å»é‡æœºåˆ¶å·¥ä½œåŸç†

### 1. å»é‡Keyç”Ÿæˆ

**ä»£ç ä½ç½®**: `mutation/hyperparams.py:42-76`

```python
def _normalize_mutation_key(mutation: Dict[str, Any], mode: Optional[str] = None) -> tuple:
    """Create normalized, hashable key for mutation uniqueness check"""
    normalized_items = []

    # Add mode as the first element if provided
    if mode is not None:
        normalized_items.append(('__mode__', mode))

    for param, value in mutation.items():
        # Normalize float values to fixed precision
        if isinstance(value, float):
            normalized_value = f"{value:.{FLOAT_PRECISION}f}"  # FLOAT_PRECISION=6
        elif isinstance(value, int):
            normalized_value = str(int(value))
        else:
            normalized_value = str(value)

        normalized_items.append((param, normalized_value))

    # Sort by parameter name for deterministic order
    return tuple(sorted(normalized_items))
```

**ç¤ºä¾‹**:
- Stage11å®éªŒ001: `(('__mode__', 'parallel'), ('epochs', '53'))`
- Stage11å®éªŒ002: `(('__mode__', 'parallel'), ('learning_rate', '0.030180'))`

### 2. å†å²æ•°æ®åŠ è½½

**ä»£ç ä½ç½®**: `mutation/dedup.py:53-141`

```python
def extract_mutations_from_csv(csv_path: Path, ...) -> Tuple[List[Dict], Dict]:
    """Extract hyperparameter combinations from a CSV file"""
    for row in reader:
        # Extract execution mode from experiment_id
        exp_id = row.get("experiment_id", "")
        mode = "parallel" if "parallel" in exp_id else "nonparallel"

        # Extract hyperparameters (only non-None values)
        mutation = {}
        for csv_col, param_name in HYPERPARAM_COLUMNS.items():
            value = _parse_hyperparam_value(row.get(csv_col, ""))
            if value is not None:
                mutation[param_name] = value

        # Include mode information in the mutation dict
        mutation['__mode__'] = mode
        mutations.append(mutation)
```

**ä»summary_all.csvæå–çš„å»é‡é›†åˆ**:
```python
dedup_set = {
    (('__mode__', 'parallel'), ('epochs', '53')),
    (('__mode__', 'parallel'), ('learning_rate', '0.030180')),
    (('__mode__', 'parallel'), ('seed', '6621')),
    (('__mode__', 'parallel'), ('dropout', '0.543581')),
    # ... å…¶ä»–å†å²å®éªŒ
}
```

### 3. å˜å¼‚ç”Ÿæˆä¸å»é‡

**ä»£ç ä½ç½®**: `mutation/hyperparams.py:180-279`

```python
def generate_mutations(
    supported_params: Dict,
    mutate_params: List[str],
    num_mutations: int = 1,
    existing_mutations: Optional[set] = None,  # â† å†å²å»é‡é›†åˆ
    mode: Optional[str] = None
) -> List[Dict[str, Any]]:
    """Generate mutated hyperparameter sets with uniqueness guarantee"""

    # Initialize seen_mutations set (may include historical mutations)
    if existing_mutations is not None:
        seen_mutations = existing_mutations.copy()  # åŒ…å«å†å²æ•°æ®
        print(f"   Loaded {len(existing_mutations)} historical mutations for deduplication")
    else:
        seen_mutations = set()

    mutations = []
    attempts = 0

    while len(mutations) < num_mutations and attempts < MAX_MUTATION_ATTEMPTS:
        attempts += 1

        # Generate new mutation (éšæœºç”Ÿæˆ)
        mutation = {}
        for param in params_to_mutate:
            mutation[param] = mutate_hyperparameter(param_config, ...)

        # Use normalized key for uniqueness check
        mutation_key = _normalize_mutation_key(mutation, mode)

        # Check if this mutation is unique (and not the default)
        if mutation_key not in seen_mutations:  # â† å…³é”®æ£€æŸ¥
            seen_mutations.add(mutation_key)
            mutations.append(mutation)
        # else: è·³è¿‡é‡å¤çš„å˜å¼‚å€¼
```

---

## âœ… å›ç­”æ ¸å¿ƒé—®é¢˜ï¼šå»é‡æœºåˆ¶ä¼šå¤±æ•ˆå—ï¼Ÿ

### ç­”æ¡ˆï¼š**ä¸ä¼šå¤±æ•ˆï¼Œä½†å­˜åœ¨é‡æ–°è¿è¡Œçš„é£é™©**

### åœºæ™¯åˆ†æ

#### åœºæ™¯1ï¼šé‡æ–°è¿è¡Œç”Ÿæˆ**å®Œå…¨ç›¸åŒ**çš„éšæœºå€¼ï¼ˆæä½æ¦‚ç‡ï¼‰

**å‡è®¾**: ä¸‹æ¬¡è¿è¡ŒStage11ï¼ŒæŸä¸ªéšæœºå˜å¼‚æ°å¥½ç”Ÿæˆ `epochs=53`

**å»é‡æµç¨‹**:
1. ä»`summary_all.csv`åŠ è½½å†å²æ•°æ® â†’ æå–`epochs=53`
2. æ„å»ºå»é‡é›†åˆ â†’ `{..., (('__mode__', 'parallel'), ('epochs', '53')), ...}`
3. ç”Ÿæˆæ–°å˜å¼‚ â†’ éšæœºç”Ÿæˆ`epochs=53`
4. åˆ›å»ºkey â†’ `(('__mode__', 'parallel'), ('epochs', '53'))`
5. æ£€æŸ¥keyæ˜¯å¦åœ¨`seen_mutations` â†’ **å­˜åœ¨ï¼**
6. **ç»“æœ**: è·³è¿‡è¿™ä¸ªå˜å¼‚ï¼Œç»§ç»­å°è¯•ç”Ÿæˆå…¶ä»–å€¼

**ç»“è®º**: âœ… **å»é‡æœºåˆ¶æœ‰æ•ˆï¼Œä¸ä¼šé‡å¤è¿è¡Œ**

---

#### åœºæ™¯2ï¼šéšæœºç”Ÿæˆ**ä¸åŒ**çš„å€¼ï¼ˆé«˜æ¦‚ç‡ï¼‰

**å‡è®¾**: ä¸‹æ¬¡è¿è¡ŒStage11ï¼Œéšæœºç”Ÿæˆ`epochs=47`ï¼ˆè€Œé53ï¼‰

**å»é‡æµç¨‹**:
1. ä»`summary_all.csv`åŠ è½½å†å²æ•°æ® â†’ æå–`epochs=53`ï¼ˆä¸åŒ…å«47ï¼‰
2. æ„å»ºå»é‡é›†åˆ â†’ `{..., (('__mode__', 'parallel'), ('epochs', '53')), ...}`
3. ç”Ÿæˆæ–°å˜å¼‚ â†’ éšæœºç”Ÿæˆ`epochs=47`
4. åˆ›å»ºkey â†’ `(('__mode__', 'parallel'), ('epochs', '47'))`
5. æ£€æŸ¥keyæ˜¯å¦åœ¨`seen_mutations` â†’ **ä¸å­˜åœ¨ï¼**
6. **ç»“æœ**: æ¥å—è¿™ä¸ªå˜å¼‚ï¼Œè¿è¡Œå®éªŒ

**é—®é¢˜**: è¿™æ˜¯ä¸€ä¸ª**æ–°çš„å”¯ä¸€å€¼**ï¼Œæ‰€ä»¥è¿è¡Œæ˜¯**æ­£ç¡®çš„**ï¼

**ç»“è®º**: âœ… **è¿™ä¸æ˜¯é‡å¤è¿è¡Œï¼Œè€Œæ˜¯é¢„æœŸçš„æ–°å®éªŒ**

---

#### åœºæ™¯3ï¼šç”¨æˆ·å…³å¿ƒçš„"å¤šä½™å®éªŒ"

**ç”¨æˆ·å¯èƒ½æ‹…å¿ƒçš„æƒ…å†µ**:
- Stage11é…ç½®è¦æ±‚æ¯ä¸ªå‚æ•°5æ¬¡è¿è¡Œ
- å·²å®Œæˆ4ä¸ªå®éªŒï¼ˆæ¯ä¸ªå‚æ•°å„1ä¸ªå”¯ä¸€å€¼ï¼‰
- é‡æ–°è¿è¡ŒStage11ï¼Œå¯èƒ½ç”Ÿæˆæ–°çš„éšæœºå€¼
- å¯¼è‡´æ¯ä¸ªå‚æ•°è¶…è¿‡5ä¸ªå”¯ä¸€å€¼

**å®é™…æƒ…å†µ**:
1. **å½“å‰çŠ¶æ€**ï¼ˆ2025-12-07å®Œæˆï¼‰:
   - epochs: 1ä¸ªå”¯ä¸€å€¼ï¼ˆ53ï¼‰
   - learning_rate: 1ä¸ªå”¯ä¸€å€¼ï¼ˆ0.030180ï¼‰
   - seed: 1ä¸ªå”¯ä¸€å€¼ï¼ˆ6621ï¼‰
   - dropout: 1ä¸ªå”¯ä¸€å€¼ï¼ˆ0.543581ï¼‰

2. **é…ç½®è¦æ±‚**:
   ```json
   "runs_per_config": 5
   ```
   æ„æ€æ˜¯ï¼šæ¯ä¸ªå‚æ•°é…ç½®**å°è¯•ç”Ÿæˆ5ä¸ªå”¯ä¸€å˜å¼‚**

3. **é‡æ–°è¿è¡ŒStage11ï¼ˆä½¿ç”¨v4.7.2ï¼‰**:
   - epochsé…ç½®: å°è¯•ç”Ÿæˆ5ä¸ªå”¯ä¸€å˜å¼‚
     - ç¬¬1æ¬¡: éšæœºç”Ÿæˆï¼ˆå¦‚47ï¼‰ â†’ æ£€æŸ¥å»é‡ â†’ ä¸å­˜åœ¨53 â†’ æ¥å— âœ…
     - ç¬¬2æ¬¡: éšæœºç”Ÿæˆï¼ˆå¦‚72ï¼‰ â†’ æ£€æŸ¥å»é‡ â†’ ä¸å­˜åœ¨47,53 â†’ æ¥å— âœ…
     - ç¬¬3æ¬¡: éšæœºç”Ÿæˆï¼ˆå¦‚53ï¼‰ â†’ æ£€æŸ¥å»é‡ â†’ **å­˜åœ¨ï¼**â†’ è·³è¿‡ï¼Œé‡æ–°å°è¯•
     - ...
     - ç›´åˆ°ç”Ÿæˆ5ä¸ªå”¯ä¸€å€¼ï¼ˆä¸åŒ…æ‹¬å·²æœ‰çš„53ï¼‰

4. **æœ€ç»ˆç»“æœ**:
   - epochs: **6ä¸ªå”¯ä¸€å€¼**ï¼ˆåŸæœ‰1ä¸ª + æ–°å¢5ä¸ªï¼‰âš ï¸

**é—®é¢˜**: æ˜¯å¦ä¼šç”Ÿæˆè¶…è¿‡5ä¸ªå”¯ä¸€å€¼ï¼Ÿ

**ç­”æ¡ˆ**: âœ… **ä¼šçš„ï¼Œä½†è¿™æ˜¯è®¾è®¡è¡Œä¸º**

---

## ğŸ¤” è®¾è®¡æ„å›¾åˆ†æ

### `runs_per_config`çš„å«ä¹‰

æ ¹æ®ä»£ç é€»è¾‘ï¼Œ`runs_per_config: 5`çš„å«ä¹‰æ˜¯ï¼š

**æ¯æ¬¡è¿è¡Œé…ç½®æ—¶ï¼Œå°è¯•ç”Ÿæˆ5ä¸ªæ–°çš„å”¯ä¸€å˜å¼‚**

**è€Œé**ï¼š
- âŒ "æ€»å…±åªéœ€è¦5ä¸ªå”¯ä¸€å€¼"
- âŒ "å¦‚æœå·²æœ‰å€¼ï¼Œåˆ™è¡¥è¶³åˆ°5ä¸ª"

### å½“å‰å®ç°é€»è¾‘

```python
# runner.pyä¸­çš„è°ƒç”¨
mutations = generate_mutations(
    supported_params=supported_params,
    mutate_params=mutate_params,
    num_mutations=exp_runs_per_config,  # â† å›ºå®šè¯·æ±‚5ä¸ª
    existing_mutations=dedup_set,
    mode=current_mode
)
```

**é—®é¢˜**: `num_mutations=5`æ˜¯ç¡¬ç¼–ç çš„ï¼Œæ²¡æœ‰è€ƒè™‘å·²æœ‰çš„å”¯ä¸€å€¼æ•°é‡ã€‚

---

## âš ï¸ æ½œåœ¨é—®é¢˜ï¼šç´¯ç§¯æ•ˆåº”

### é—®é¢˜æè¿°

å¦‚æœå¤šæ¬¡è¿è¡ŒåŒä¸€é…ç½®ï¼š

| è¿è¡Œæ¬¡æ•° | é¢„æœŸç”Ÿæˆ | å®é™…ç´¯ç§¯å”¯ä¸€å€¼ | é—®é¢˜ |
|---------|---------|--------------|-----|
| ç¬¬1æ¬¡ | 5ä¸ª | 5ä¸ª | âœ… æ­£å¸¸ |
| ç¬¬2æ¬¡ | 5ä¸ª | 10ä¸ª | âš ï¸ è¶…è¿‡é¢„æœŸ |
| ç¬¬3æ¬¡ | 5ä¸ª | 15ä¸ª | âš ï¸ ç»§ç»­ç´¯ç§¯ |

### æ˜¯å¦å½±å“Stage11ï¼Ÿ

**å½“å‰æƒ…å†µ**:
- Stage11å·²è¿è¡Œ1æ¬¡ï¼ˆbugå¯¼è‡´åªè¿è¡Œäº†4ä¸ªå®éªŒï¼‰
- è®¡åˆ’é‡æ–°è¿è¡Œ1æ¬¡ï¼ˆv4.7.2ä¿®å¤ï¼‰

**é‡æ–°è¿è¡Œä¼šç”Ÿæˆå¤šå°‘ä¸ªå®éªŒï¼Ÿ**

æ ¹æ®é…ç½®ï¼š
```json
"runs_per_config": 5
```

æ¯ä¸ªå‚æ•°é…ç½®**å°è¯•ç”Ÿæˆ5ä¸ªæ–°å˜å¼‚**ï¼š
- epochsé…ç½®: 5æ¬¡å°è¯• â†’ ç”Ÿæˆ5ä¸ªæ–°å€¼
- learning_rateé…ç½®: 5æ¬¡å°è¯• â†’ ç”Ÿæˆ5ä¸ªæ–°å€¼
- seedé…ç½®: 5æ¬¡å°è¯• â†’ ç”Ÿæˆ5ä¸ªæ–°å€¼
- dropouté…ç½®: 5æ¬¡å°è¯• â†’ ç”Ÿæˆ5ä¸ªæ–°å€¼

**æ€»è®¡**: 4ä¸ªå‚æ•° Ã— 5æ¬¡ = **20ä¸ªæ–°å®éªŒ**

**ä½†æ˜¯**: å»é‡æœºåˆ¶ä¼šè·³è¿‡å·²å­˜åœ¨çš„4ä¸ªå€¼ï¼š
- epochsé…ç½®: å°è¯•ç”Ÿæˆ`epochs=53` â†’ **è·³è¿‡**ï¼Œé‡æ–°å°è¯•
- learning_rateé…ç½®: å°è¯•ç”Ÿæˆ`learning_rate=0.030180` â†’ **è·³è¿‡**ï¼Œé‡æ–°å°è¯•
- seedé…ç½®: å°è¯•ç”Ÿæˆ`seed=6621` â†’ **è·³è¿‡**ï¼Œé‡æ–°å°è¯•
- dropouté…ç½®: å°è¯•ç”Ÿæˆ`dropout=0.543581` â†’ **è·³è¿‡**ï¼Œé‡æ–°å°è¯•

**é—®é¢˜**: ç”±äºéšæœºæ€§ï¼Œç¢°æ’æ¦‚ç‡æä½ï¼ˆæ¥è¿‘0%ï¼‰

**å®é™…ç»“æœ**: å‡ ä¹è‚¯å®šä¼šç”Ÿæˆ20ä¸ª**æ–°çš„**å”¯ä¸€å€¼

**æœ€ç»ˆå”¯ä¸€å€¼æ€»æ•°**:
- epochs: 1ï¼ˆå·²æœ‰ï¼‰+ 5ï¼ˆæ–°å¢ï¼‰= **6ä¸ª** âš ï¸
- learning_rate: 1 + 5 = **6ä¸ª** âš ï¸
- seed: 1 + 5 = **6ä¸ª** âš ï¸
- dropout: 1 + 5 = **6ä¸ª** âš ï¸

**è¶…è¿‡é¢„æœŸ**: æ¯ä¸ªå‚æ•°é¢„æœŸ5ä¸ªï¼Œå®é™…6ä¸ªï¼ˆè¶…å‡º20%ï¼‰

---

## ğŸ’¡ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šæ‰‹åŠ¨è°ƒæ•´`runs_per_config`ï¼ˆæ¨èç”¨äºStage11ï¼‰â­

**æ€è·¯**: æ ¹æ®å·²å®Œæˆå®éªŒæ•°é‡ï¼Œè°ƒæ•´`runs_per_config`

**Stage11å½“å‰çŠ¶æ€**:
- æ¯ä¸ªå‚æ•°å·²æœ‰1ä¸ªå”¯ä¸€å€¼
- ç›®æ ‡ï¼šæ¯ä¸ªå‚æ•°5ä¸ªå”¯ä¸€å€¼
- **éœ€è¡¥å……**: 5 - 1 = **4ä¸ª**

**ä¿®æ”¹é…ç½®**:
```json
{
  "experiments": [
    {
      "mode": "parallel",
      "foreground": {
        "repo": "Person_reID_baseline_pytorch",
        "model": "hrnet18",
        "mode": "mutation",
        "mutate": ["epochs"]
      },
      "runs_per_config": 4,  // â† ä¿®æ”¹ä¸º4ï¼ˆåŸæ¥æ˜¯5ï¼‰
      ...
    },
    // å…¶ä»–3ä¸ªå‚æ•°é…ç½®åŒæ ·ä¿®æ”¹ä¸º4
  ]
}
```

**ä¼˜ç‚¹**:
- âœ… ç²¾ç¡®æ§åˆ¶å”¯ä¸€å€¼æ•°é‡
- âœ… é¿å…è¶…å‡ºé¢„æœŸ
- âœ… ç®€å•æ˜“å®ç°

**ç¼ºç‚¹**:
- âš ï¸ éœ€è¦æ‰‹åŠ¨è®¡ç®—
- âš ï¸ å¦‚æœå»é‡ç¢°æ’ï¼Œå¯èƒ½ä»ç„¶å°‘äºç›®æ ‡

---

### æ–¹æ¡ˆ2ï¼šæ™ºèƒ½è¡¥å……æ¨¡å¼ï¼ˆéœ€å¼€å‘ï¼‰

**æ€è·¯**: ä»£ç è‡ªåŠ¨è®¡ç®—å·²æœ‰å”¯ä¸€å€¼æ•°é‡ï¼Œæ™ºèƒ½è¡¥å……

**ä¼ªä»£ç **:
```python
# ä»historical_csvsæå–å·²æœ‰å”¯ä¸€å€¼
existing_unique_values = extract_unique_values_per_param(
    csv_path="results/summary_all.csv",
    repo="Person_reID_baseline_pytorch",
    model="hrnet18",
    mode="parallel"
)
# ä¾‹å¦‚: {'epochs': 1, 'learning_rate': 1, 'seed': 1, 'dropout': 1}

# è®¡ç®—éœ€è¦è¡¥å……çš„æ•°é‡
target = 5
for param in mutate_params:
    current_count = existing_unique_values.get(param, 0)
    needed = max(0, target - current_count)

    # ç”Ÿæˆéœ€è¦çš„æ•°é‡
    mutations = generate_mutations(
        num_mutations=needed,  # â† æ™ºèƒ½è°ƒæ•´
        existing_mutations=dedup_set,
        ...
    )
```

**ä¼˜ç‚¹**:
- âœ… å®Œå…¨è‡ªåŠ¨åŒ–
- âœ… ç²¾ç¡®è¾¾åˆ°ç›®æ ‡æ•°é‡
- âœ… å¯é‡å¤è¿è¡Œè€Œä¸è¶…å‡º

**ç¼ºç‚¹**:
- âš ï¸ éœ€è¦å¼€å‘æ–°åŠŸèƒ½
- âš ï¸ å¤æ‚åº¦å¢åŠ 

---

### æ–¹æ¡ˆ3ï¼šæ¥å—ç´¯ç§¯æ•ˆåº”ï¼ˆå½“å‰è¡Œä¸ºï¼‰

**æ€è·¯**: ä¸ä¿®æ”¹ï¼Œæ¥å—è¶…å‡ºé¢„æœŸçš„å”¯ä¸€å€¼æ•°é‡

**ä¼˜ç‚¹**:
- âœ… æ— éœ€ä¿®æ”¹ä»£ç æˆ–é…ç½®
- âœ… æ›´å¤šæ•°æ®ç‚¹æœ‰åˆ©äºç ”ç©¶

**ç¼ºç‚¹**:
- âš ï¸ è¶…å‡ºé¢„æœŸèµ„æºæ¶ˆè€—
- âš ï¸ æ¯æ¬¡è¿è¡Œéƒ½ä¼šç´¯ç§¯

**é€‚ç”¨åœºæ™¯**:
- ç ”ç©¶éœ€è¦å¤§é‡æ•°æ®ç‚¹
- èµ„æºå……è¶³
- ä¸ä»‹æ„è¶…å‡ºé¢„æœŸ

---

## ğŸ¯ é’ˆå¯¹Stage11çš„å»ºè®®

### æ¨èæ–¹æ¡ˆï¼š**æ–¹æ¡ˆ1ï¼ˆæ‰‹åŠ¨è°ƒæ•´ï¼‰**

**ç†ç”±**:
1. Stage11å·²å®Œæˆ4ä¸ªå®éªŒï¼ˆ4ä¸ªå‚æ•°å„1ä¸ªå”¯ä¸€å€¼ï¼‰
2. ç›®æ ‡ï¼šæ¯ä¸ªå‚æ•°5ä¸ªå”¯ä¸€å€¼
3. ç²¾ç¡®éœ€æ±‚ï¼šæ¯ä¸ªå‚æ•°è¡¥å……4ä¸ª

**å…·ä½“æ­¥éª¤**:

#### 1. ä¿®æ”¹é…ç½®æ–‡ä»¶
```bash
# å¤‡ä»½åŸé…ç½®
cp settings/stage11_parallel_hrnet18.json settings/stage11_parallel_hrnet18.json.original

# ç¼–è¾‘é…ç½®ï¼ˆæ‰‹åŠ¨æˆ–ä½¿ç”¨sedï¼‰
# å°†æ‰€æœ‰ "runs_per_config": 5 æ”¹ä¸º "runs_per_config": 4
```

#### 2. éªŒè¯ä¿®æ”¹
```bash
# æ£€æŸ¥ä¿®æ”¹ç»“æœ
grep -n "runs_per_config" settings/stage11_parallel_hrnet18.json
```

#### 3. è¿è¡Œè¡¥å……å®éªŒ
```bash
sudo -E python3 mutation.py -ec settings/stage11_parallel_hrnet18.json
```

#### 4. é¢„æœŸç»“æœ
- ç”Ÿæˆ16ä¸ªæ–°å®éªŒï¼ˆ4å‚æ•° Ã— 4æ¬¡ï¼‰
- å»é‡æœºåˆ¶è·³è¿‡å·²æœ‰çš„4ä¸ªå€¼ï¼ˆç¢°æ’æ¦‚ç‡æä½ï¼Œå‡ ä¹ä¸ä¼šå‘ç”Ÿï¼‰
- æœ€ç»ˆæ¯ä¸ªå‚æ•°ï¼š1ï¼ˆå·²æœ‰ï¼‰+ 4ï¼ˆæ–°å¢ï¼‰= **5ä¸ªå”¯ä¸€å€¼** âœ…

---

### æ›¿ä»£æ–¹æ¡ˆï¼šæ¥å—6ä¸ªå”¯ä¸€å€¼

å¦‚æœä¸æƒ³ä¿®æ”¹é…ç½®ï¼Œç›´æ¥è¿è¡Œï¼š

```bash
sudo -E python3 mutation.py -ec settings/stage11_parallel_hrnet18.json
```

**ç»“æœ**:
- ç”Ÿæˆ20ä¸ªæ–°å®éªŒ
- æ¯ä¸ªå‚æ•°æœ€ç»ˆ6ä¸ªå”¯ä¸€å€¼ï¼ˆè¶…å‡º20%ï¼‰
- é¢å¤–æ¶ˆè€—èµ„æºï¼š~5.7å°æ—¶ï¼ˆ4ä¸ªå®éªŒ Ã— 1.43å°æ—¶/å®éªŒï¼‰

**æ˜¯å¦å¯æ¥å—**ï¼Ÿ
- âœ… å¦‚æœç ”ç©¶éœ€è¦æ›´å¤šæ•°æ®ç‚¹
- âœ… å¦‚æœèµ„æºå……è¶³
- âŒ å¦‚æœä¸¥æ ¼æ§åˆ¶å®éªŒæ•°é‡

---

## ğŸ“Š å¯¹å…¶ä»–Stageçš„å½±å“

### Stage12å’ŒStage13

**ç›¸åŒé—®é¢˜**: å¦‚æœä¹‹å‰æœ‰éƒ¨åˆ†å®éªŒå®Œæˆï¼Œé‡æ–°è¿è¡Œä¼šç´¯ç§¯

**å»ºè®®**:
1. æ£€æŸ¥`summary_all.csv`ä¸­æ¯ä¸ªå‚æ•°çš„å½“å‰å”¯ä¸€å€¼æ•°é‡
2. æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´`runs_per_config`

**è„šæœ¬è¾…åŠ©**ï¼ˆå¯å¼€å‘ï¼‰:
```bash
# æ£€æŸ¥ç‰¹å®šæ¨¡å‹å‚æ•°çš„å”¯ä¸€å€¼æ•°é‡
python3 scripts/check_unique_values.py \
  --repo Person_reID_baseline_pytorch \
  --model pcb \
  --mode parallel
```

---

## âœ… æ€»ç»“

### æ ¸å¿ƒé—®é¢˜å›ç­”

**é—®é¢˜**: "éšæœºå˜å¼‚æ˜¯å¦ä¼šå¯¼è‡´å»é‡æœºåˆ¶å¤±æ•ˆï¼Ÿ"

**ç­”æ¡ˆ**:
- âœ… **å»é‡æœºåˆ¶ä¸ä¼šå¤±æ•ˆ**ï¼šç›¸åŒå€¼ä¼šè¢«æ­£ç¡®è·³è¿‡
- âš ï¸ **ä½†ä¼šç”Ÿæˆæ–°å€¼**ï¼šéšæœºå˜å¼‚å¤§æ¦‚ç‡ç”Ÿæˆä¸åŒå€¼
- âš ï¸ **å­˜åœ¨ç´¯ç§¯æ•ˆåº”**ï¼šå¤šæ¬¡è¿è¡Œä¼šç´¯ç§¯è¶…è¿‡é¢„æœŸçš„å”¯ä¸€å€¼æ•°é‡

### å»é‡æœºåˆ¶ä¿è¯

1. âœ… **ä¸ä¼šé‡å¤è¿è¡Œç›¸åŒè¶…å‚æ•°ç»„åˆ**ï¼ˆç²¾åº¦6ä½å°æ•°ï¼‰
2. âœ… **åŒºåˆ†å¹¶è¡Œå’Œéå¹¶è¡Œæ¨¡å¼**
3. âœ… **å†å²æ•°æ®æ­£ç¡®åŠ è½½å’Œå»é‡**

### æ½œåœ¨é—®é¢˜

1. âš ï¸ **ç´¯ç§¯æ•ˆåº”**ï¼šå¤šæ¬¡è¿è¡ŒåŒä¸€é…ç½®ä¼šç´¯ç§¯å”¯ä¸€å€¼
2. âš ï¸ **è¶…å‡ºé¢„æœŸ**ï¼šæœ€ç»ˆå”¯ä¸€å€¼æ•°é‡å¯èƒ½è¶…è¿‡`runs_per_config`è®¾å®š
3. âš ï¸ **ç¢°æ’æ¦‚ç‡æä½**ï¼šéšæœºç”Ÿæˆç›¸åŒå€¼çš„æ¦‚ç‡æ¥è¿‘0%

### Stage11å…·ä½“å»ºè®®

**é€‰é¡¹Aï¼šç²¾ç¡®æ§åˆ¶ï¼ˆæ¨èï¼‰**
- ä¿®æ”¹`runs_per_config: 5` â†’ `runs_per_config: 4`
- é¢„æœŸç»“æœï¼šæ¯ä¸ªå‚æ•°ç²¾ç¡®5ä¸ªå”¯ä¸€å€¼
- é¢å¤–æ—¶é—´ï¼š~23å°æ—¶

**é€‰é¡¹Bï¼šæ¥å—ç´¯ç§¯**
- ä¸ä¿®æ”¹é…ç½®ï¼Œç›´æ¥è¿è¡Œ
- é¢„æœŸç»“æœï¼šæ¯ä¸ªå‚æ•°6ä¸ªå”¯ä¸€å€¼ï¼ˆè¶…å‡º20%ï¼‰
- é¢å¤–æ—¶é—´ï¼š~28.6å°æ—¶

**æ¨è**ï¼š**é€‰é¡¹A**ï¼ˆç²¾ç¡®æ§åˆ¶ï¼‰

---

## ğŸ“š ç›¸å…³ä»£ç ä½ç½®

- å˜å¼‚ç”Ÿæˆï¼š`mutation/hyperparams.py:180-279`
- å»é‡keyç”Ÿæˆï¼š`mutation/hyperparams.py:42-76`
- å†å²æ•°æ®åŠ è½½ï¼š`mutation/dedup.py:53-141`
- å»é‡é›†åˆæ„å»ºï¼š`mutation/dedup.py:201-232`

---

**åˆ›å»ºè€…**: Green + Claude
**æ—¥æœŸ**: 2025-12-08
**ç‰ˆæœ¬**: v4.7.2
**çŠ¶æ€**: âœ… åˆ†æå®Œæˆ

**ä¸‹ä¸€æ­¥**: å†³å®šä½¿ç”¨æ–¹æ¡ˆAæˆ–æ–¹æ¡ˆBæ‰§è¡ŒStage11è¡¥å……å®éªŒ
