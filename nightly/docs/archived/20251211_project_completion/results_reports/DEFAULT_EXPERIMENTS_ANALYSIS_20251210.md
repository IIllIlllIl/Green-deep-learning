# 默认值实验完成情况分析报告

**报告日期**: 2025-12-10
**报告版本**: v1.0
**项目版本**: v4.7.2

---

## 📊 执行摘要

最新的默认值实验已成功完成，当前项目共有 **518 条实验记录**。通过详细分析，我们发现：

1. **整体进度**: 45.4% (98/216 参数-模式组合完成)
2. **剩余任务**: 需补充 118 个参数-模式组合以达到完整覆盖
3. **关键发现**: VulBERTa_cnn 模型运行时间异常短（平均3.92秒）

---

## 1. 实验完成度分析

### 1.1 总体统计

- **总实验记录数**: 518 条
- **已完成参数-模式组合**: 98 / 216 (45.4%)
- **剩余需补充**: 118 个参数-模式组合
- **模型数量**: 12 个（跨 7 个代码仓库）

### 1.2 各模型完成度

所有12个模型的完成度统计（每个模型需要完成18个参数-模式组合）:

| 模型 | 完成度 | 百分比 |
|------|--------|--------|
| MRT-OAST/default | 10/18 | 55.6% |
| Person_reID_baseline_pytorch/densenet121 | 8/18 | 44.4% |
| Person_reID_baseline_pytorch/hrnet18 | 8/18 | 44.4% |
| Person_reID_baseline_pytorch/pcb | 8/18 | 44.4% |
| VulBERTa/cnn | 8/18 | 44.4% |
| VulBERTa/mlp | 8/18 | 44.4% |
| bug-localization-by-dnn-and-rvsm/default | 8/18 | 44.4% |
| examples/mnist | 8/18 | 44.4% |
| examples/mnist_ff | 8/18 | 44.4% |
| examples/mnist_rnn | 8/18 | 44.4% |
| examples/siamese | 8/18 | 44.4% |
| pytorch_resnet_cifar10/resnet20 | 8/18 | 44.4% |

**分析**:
- MRT-OAST/default 领先，完成度达到55.6%
- 其他11个模型均为44.4%完成度
- 整体进度较为均衡

---

## 2. 运行时间异常分析

### 2.1 VulBERTa_cnn 运行时间异常 ⚠️

**问题描述**:
VulBERTa_cnn 模型的运行时间异常短，远低于预期。

**数据统计**:
- **总实验数**: 42 个
- **平均运行时间**: **3.92 秒**
- **最短时间**: 3.22 秒 (VulBERTa_cnn_093_parallel)
- **最长时间**: 23.33 秒 (VulBERTa_cnn_071)
- **典型范围**: 3.2 - 3.7 秒

**按Epochs统计**:
```
Epochs=5:   平均 3.63秒 (n=3)
Epochs=10:  平均 3.42秒 (n=2)
Epochs=14:  平均 3.41秒 (n=2)
Epochs=18:  平均 3.61秒 (n=4)
Epochs=20:  平均 13.35秒 (n=2, 异常值23.33秒)
```

**关键发现**:
1. ✅ 训练成功标志均为 `True`
2. ⚠️ **运行时间与Epochs数量无明显相关性** (5个epochs和18个epochs运行时间相近)
3. ⚠️ **测试准确率字段全部为空** - 表明可能未真正完成训练或评估
4. 🔴 **严重怀疑**: 代码可能在训练早期就退出了，或者数据集极小

### 2.2 其他异常短时间模型

| 模型 | 实验数 | 平均时间 | 时间范围 | 判断 |
|------|--------|----------|----------|------|
| VulBERTa/cnn | 42 | 3.92秒 | 3.2-23.3秒 | 🔴 **异常** |
| examples/mnist_ff | 56 | 16.72秒 | 7.1-34.3秒 | ✅ 正常 (小数据集) |
| MRT-OAST/default | 19 | 55.25秒 | 53.4-55.8秒 | ✅ 正常 |

**对比分析**:
- VulBERTa/mlp 平均运行时间: **2562.34秒** (同仓库MLP模型)
- VulBERTa/cnn 与 VulBERTa/mlp 的时间比: **1:653**

这个差异远超CNN与MLP的合理性能差异（通常为1:2到1:5）。

### 2.3 各模型平均运行时间

完整模型运行时间统计（按时间从短到长）:

| 排名 | 模型 | 平均运行时间 | 实验数 |
|------|------|--------------|--------|
| 1 | VulBERTa/cnn | **3.92秒** ⚠️ | 42 |
| 2 | examples/mnist_ff | 16.72秒 | 56 |
| 3 | examples/mnist | 231.86秒 (3.9分钟) | 40 |
| 4 | examples/mnist_rnn | 337.12秒 (5.6分钟) | 43 |
| 5 | examples/siamese | 520.28秒 (8.7分钟) | 40 |
| 6 | MRT-OAST/default | 885.59秒 (14.8分钟) | 57 |
| 7 | bug-localization-by-dnn-and-rvsm/default | 1192.39秒 (19.9分钟) | 40 |
| 8 | pytorch_resnet_cifar10/resnet20 | 1676.44秒 (27.9分钟) | 39 |
| 9 | VulBERTa/mlp | 2562.34秒 (42.7分钟) | 45 |
| 10 | Person_reID_baseline_pytorch/densenet121 | 3381.41秒 (56.4分钟) | 43 |
| 11 | Person_reID_baseline_pytorch/hrnet18 | 5138.16秒 (85.6分钟) | 37 |
| 12 | Person_reID_baseline_pytorch/pcb | 5520.45秒 (92.0分钟) | 36 |

---

## 3. 根因分析与建议

### 3.1 VulBERTa_cnn 异常原因推测

**可能原因**:

1. **数据集过小** 🟡
   - VulBERTa数据集可能只有少量样本
   - 建议: 检查 `VulBERTa/cnn` 配置中的数据集大小

2. **训练提前终止** 🔴 (最可能)
   - 代码可能在满足某个条件后提前退出
   - 证据: `perf_test_accuracy` 全部为空
   - 建议: 检查训练代码中的early stopping逻辑

3. **未真正执行训练** 🔴
   - 可能只是加载模型，未执行训练循环
   - 证据: 运行时间与epochs数量无关
   - 建议: 检查 `VulBERTa` 仓库的训练脚本

4. **GPU加速极端优化** 🟢 (可能性低)
   - 即使使用最强GPU，3秒完成20个epochs也不合理
   - VulBERTa是Transformer模型，不太可能这么快

### 3.2 验证建议

**立即执行**:
1. 查看 VulBERTa_cnn_001 实验的详细日志
2. 检查 `config/models_config.json` 中 VulBERTa/cnn 的配置
3. 手动运行一次 VulBERTa/cnn 实验，观察训练过程

**代码检查**:
```bash
# 检查VulBERTa仓库的训练代码
cd VulBERTa
grep -r "cnn" --include="*.py" | grep -i "train"

# 检查数据集大小
grep -r "dataset" --include="*.py" | grep -i "cnn"
```

### 3.3 数据质量影响

**影响评估**:
- ✅ **能耗数据**: 所有实验均包含完整的CPU/GPU能耗数据
- ⚠️ **性能数据**: VulBERTa/cnn 缺失 `perf_test_accuracy`
- ✅ **超参数数据**: 所有实验超参数记录完整
- 🔴 **实验有效性**: VulBERTa/cnn 的42个实验**可能无效**

**建议**:
- 如果确认VulBERTa/cnn实验无效，需要重新运行这42个实验
- 这将增加约 1-2小时的实验时间（假设正常运行时间为2-3分钟/实验）

---

## 4. 下一步行动计划

### 4.1 紧急任务

1. **验证VulBERTa/cnn实验有效性** (优先级: 🔴 最高)
   - 检查训练代码实现
   - 查看实验日志文件
   - 手动运行测试实验

2. **决策点**: 根据验证结果
   - 如果实验**有效**: 继续执行剩余118个参数-模式组合
   - 如果实验**无效**: 需要重新运行VulBERTa/cnn的42个实验

### 4.2 常规任务

1. **完成剩余118个参数-模式组合**
   - 参考: `settings/stage_final_all_remaining.json`
   - 预计时间: ~37.8小时

2. **数据完整性检查**
   - 验证所有518个实验的CSV格式
   - 确认能耗数据完整性

3. **文档更新**
   - 更新 `README.md` 和 `CLAUDE.md`
   - 记录VulBERTa/cnn问题的解决方案

---

## 5. 总结

### 5.1 关键结论

1. ✅ **整体进度良好**: 518个实验已完成，45.4%的参数-模式组合达到目标
2. ⚠️ **数据质量问题**: VulBERTa/cnn模型运行时间异常，需要验证
3. 📊 **剩余工作量**: 118个参数-模式组合，预计37.8小时

### 5.2 风险提示

| 风险 | 等级 | 影响 | 缓解措施 |
|------|------|------|----------|
| VulBERTa/cnn实验无效 | 🔴 高 | 需重跑42个实验(+1-2小时) | 立即验证 |
| 其他模型存在类似问题 | 🟡 中 | 可能影响数据有效性 | 全面检查 |
| 剩余实验时间超出预期 | 🟢 低 | 延迟项目完成 | 已有充分预估 |

### 5.3 建议优先级

1. 🔴 **立即**: 验证VulBERTa/cnn实验有效性
2. 🟡 **24小时内**: 检查其他异常短时间实验
3. 🟢 **本周内**: 执行最终阶段配置（stage_final_all_remaining.json）

---

**报告生成时间**: 2025-12-10
**分析工具**: Python3 + CSV
**数据来源**: results/summary_all.csv (518 records)
**报告作者**: Claude (v4.7.2)
