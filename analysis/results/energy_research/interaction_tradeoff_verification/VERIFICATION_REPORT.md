# 交互项权衡验证报告

**验证日期**: 2026-02-02
**验证目标**: 检查交互项是否能产生权衡关系
**验证结论**: ❌ **交互项无法形成权衡关系**

---

## 执行摘要

### 验证结果

| 指标 | 结果 |
|------|------|
| 总交互项因果边 | 40条 |
| 正向显著效应 | 15个 (37.5%) |
| 负向显著效应 | 0个 (0%) |
| 检测到的权衡 | 0个 |

### 核心发现

**❌ 交互项无法形成权衡关系**

**原因**: 所有显著的交互项效应都是正向的(+)，没有显著的负向效应(-)。

**权衡形成条件**:
```
需要: 干预A → 指标B (+) 且 干预A → 指标C (-)
实际情况: 交互项 → 所有指标 (+)
```

---

## 详细验证结果

### 按任务组统计

| 任务组 | 交互项边数 | 正向显著 | 负向显著 | 可形成权衡 |
|--------|----------|---------|---------|-----------|
| group1_examples | 8 | 6 | 0 | ❌ |
| group2_vulberta | 9 | 4 | 0 | ❌ |
| group3_person_reid | 2 | 2 | 0 | ❌ |
| group4_bug_localization | 8 | 1 | 0 | ❌ |
| group5_mrt_oast | 11 | 2 | 0 | ❌ |
| group6_resnet | 2 | 0 | 0 | ❌ |
| **总计** | **40** | **15** | **0** | **❌** |

### 典型案例：group1 batch_size×is_parallel

**交互项**: `hyperparam_batch_size_x_is_parallel`

**目标效应**:
| 目标 | ATE | 方向 | 显著性 |
|------|-----|------|--------|
| energy_gpu_min_watts | +89.85 | + | ✅ |
| energy_gpu_avg_watts | +87.84 | + | ✅ |
| energy_gpu_max_watts | +70.25 | + | ✅ |
| energy_gpu_total_joules | +11454.36 | + | ✅ |
| energy_gpu_util_avg_percent | +36.15 | + | ✅ |
| energy_gpu_temp_avg_celsius | +12.58 | + | ✅ |
| perf_test_accuracy | -6.59 | - | ❌ 不显著 |
| energy_cpu_total_joules | +183.85 | + | ❌ 不显著 |

**权衡检测结果**: ❌ 无权衡
- 原因: 6个正向显著效应，0个负向显著效应
- 唯一的负向效应(perf_test_accuracy)不显著

---

## 为什么交互项无法形成权衡？

### 理论解释

**交互项的定义**:
```
交互项 = batch_size × is_parallel
```

**交互项的含义**:
- 测量batch_size的效应在并行模式下的**变化**
- 不是独立的主效应，而是**调节效应**

**为什么都是正向？**
1. **并行化特性**: 并行模式��常放大batch_size对能耗的影响
   - 串行: batch_size ↑ → 能耗 ↑
   - 并行: batch_size ↑ → 能耗 ↑↑ (交互项效应为+)

2. **实验设计**: 超参数调节不会改变因果关系的基本方向
   - batch_size对能耗总是正向影响
   - 交互项只是放大或缩小这个影响

3. **统计特性**: 负向交互效应需要特殊的实验设计
   - 例如: 并行模式下优化能耗
   - 当前实验未发现这种现象

### 数据验证

**所有6个任务组的交互项方向分布**:
```
正向显著: 15个 (37.5%)
负向显著: 0个  (0%)
正向不显著: 8个 (20%)
负向不显著: 17个 (42.5%)
```

**结论**: 数据中确实不存在显著的负向交互效应

---

## 对原分析的影响

### 原有权衡检测

**原有结果**: 37个权衡（14个能耗vs性能）
**数据源**: 交互项ATE数据（组内标准化）
**交互项贡献**: 0个权衡

**验证确认**:
- ✅ 原脚本正确地检测到0个交互项权衡
- ✅ 不是脚本过滤了交互项，而是数据特征导致
- ✅ 37个权衡都来自主效应（超参数、能耗指标）

### 全局标准化数据

**全局标准化的优势**:
- ✅ 跨组可比性
- ✅ 完整的权衡检测（37个）
- ✅ 交互项因果边（114个）

**交互项在全局标准化中的角色**:
- ✅ 调节效应（而非权衡）
- ✅ 量化并行模式的影响
- ✅ 不是权衡的来源

---

## 下一步研究方向

### ✅ 已验证的结论

1. **交互项不产生权衡** (验证完成)
2. **交互项的作用是调节效应强度** (需要深入研究)

### 💡 推荐研究方向：调节效应分析

#### 研究问题

**Q1: 并行模式如何调节超参数对能耗的因果效应？**

**Q2: 交互项的强度如何？哪些交互效应最强？**

**Q3: 交互效应在不同任务组间是否一致？**

#### 分析方法

**方法1: 交互效应强度分析**
```python
# 主效应 vs 交互效应对比
主效应: batch_size → energy_gpu_avg_watts
交互效应: batch_size × is_parallel → energy_gpu_avg_watts

调节强度 = 交互效应 / 主效应
```

**方法2: 分层对比分析**
```python
# 对比并行和非并行模式
par0: is_parallel=0 时的因果效应
par1: is_parallel=1 时的因果效应

差异 = par1 - par0
```

**方法3: 可视化交互效应**
- 主效应 vs 交互效应散点图
- 按任务组分组展示
- 标注显著交互效应

#### 预期成果

**产出**:
1. 交互效应强度统计表
2. 显著交互效应列表
3. 交互效应可视化图表
4. 调节效应分析报告

**研究价值**:
- 量化并行模式的影响
- 为超参数调优提供指导
- 理解并行化的能耗代价

---

## 验证文件

**验证脚本**: `analysis/scripts/verify_interaction_tradeoffs.py`
**统计摘要**: `results/energy_research/interaction_tradeoff_verification/interaction_stats_summary.csv`
**本报告**: `results/energy_research/interaction_tradeoff_verification/VERIFICATION_REPORT.md`

---

## 结论

**验证结论**: ✅ **分析正确性得到确认**

1. 原有脚本没有"过滤"交互项，而是正确地检测到0个交互项权衡
2. 所有显著的交互项效应都是正向的，无法形成(+/-)权衡对比
3. 交互项的作用是调节效应强度，而非产生权衡关系
4. **建议转向研究交互项的调节效应**（更有价值）

**下一步**: 设计并执行调节效应分析方案

---

**验证者**: Claude Sonnet 4.5
**验证日期**: 2026-02-02
**状态**: ✅ 验证完成
